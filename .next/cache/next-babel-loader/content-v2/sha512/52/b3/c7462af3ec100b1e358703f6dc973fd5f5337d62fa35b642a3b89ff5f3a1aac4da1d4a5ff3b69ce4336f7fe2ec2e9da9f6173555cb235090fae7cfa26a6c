{"ast":null,"code":"import _regeneratorRuntime from \"/home/smoke/\\xC1rea de Trabalho/dashgo/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _asyncToGenerator from \"/home/smoke/\\xC1rea de Trabalho/dashgo/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/smoke/\\xC1rea de Trabalho/dashgo/src/pages/users/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Box, Flex, Button, Heading, Icon, Spinner } from \"@chakra-ui/react\";\nimport { Link, Table, Thead, Tbody, Tr, Th, Td } from \"@chakra-ui/react\";\nimport { Checkbox, Text, useBreakpointValue } from \"@chakra-ui/react\";\nimport { RiAddLine, RiPencilLine } from \"react-icons/ri\";\nimport { Header } from \"../../components/Header\";\nimport { Sidebar } from \"../../components/Sidebar\";\nimport { Pagination } from \"../../components/Pagination\";\nimport { useClients } from \"../../services/hooks/useClients\";\nimport { queryClient } from \"../../services/queryClient\";\nimport { api } from \"../../services/api\";\nexport default function UserList() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(1),\n      curPage = _useState[0],\n      setCurPage = _useState[1]; // isLoading é o 1.o carregamento dos dados\n\n\n  var _useClients = useClients(curPage),\n      data = _useClients.data,\n      isLoading = _useClients.isLoading,\n      isFetching = _useClients.isFetching,\n      error = _useClients.error;\n\n  var isTelaGrande = useBreakpointValue({\n    base: false,\n    lg: true\n  });\n\n  function handlePrefetchClient() {\n    return _handlePrefetchClient.apply(this, arguments);\n  }\n\n  function _handlePrefetchClient() {\n    _handlePrefetchClient = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return queryClient.prefetchQuery([\"user\"], /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var response;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return api.get(\"/clients\");\n\n                      case 2:\n                        response = _context.sent;\n                        return _context.abrupt(\"return\", response.data);\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })), {\n                staleTime: 1000 * 60 * 10 // 10 minutos\n\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _handlePrefetchClient.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      w: \"100%\",\n      my: \"6\",\n      maxWidth: 1480,\n      mx: \"auto\",\n      px: \"6\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        flex: \"1\",\n        borderRadius: 8,\n        bg: \"gray.800\",\n        p: \"8\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          mb: \"8\",\n          justifyContent: \"space-between\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"lg\",\n            fontWeight: \"normal\",\n            children: [\"Clientes\", !isLoading && isFetching && /*#__PURE__*/_jsxDEV(Spinner, {\n              color: \"gray.500\",\n              ml: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            as: \"a\",\n            href: \"/users/create\",\n            size: \"sm\",\n            fontSize: \"sm\",\n            colorScheme: \"messenger\",\n            leftIcon: /*#__PURE__*/_jsxDEV(Icon, {\n              as: RiAddLine,\n              fontSize: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this),\n            children: \"Criar novo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: \"Falha ao obter dados dos usu\\xE1rios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            colorScheme: \"whiteAlpha\",\n            children: [/*#__PURE__*/_jsxDEV(Thead, {\n              children: /*#__PURE__*/_jsxDEV(Tr, {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  px: [\"4\", \"4\", \"6\"],\n                  color: \"gray.300\",\n                  width: \"8\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    colorScheme: \"messenger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Usu\\xE1rio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this), isTelaGrande && /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Compras\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 38\n                }, this), isTelaGrande && /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Trocas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 38\n                }, this), isTelaGrande && /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Data de cadastro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 38\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  width: \"8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n              children: data.clients.map(function (client) {\n                return /*#__PURE__*/_jsxDEV(Tr, {\n                  children: [/*#__PURE__*/_jsxDEV(Td, {\n                    px: [\"4\", \"4\", \"6\"],\n                    children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      colorScheme: \"messenger\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(Td, {\n                    children: /*#__PURE__*/_jsxDEV(Box, {\n                      children: [/*#__PURE__*/_jsxDEV(Link, {\n                        color: \"messenger.100\",\n                        onMouseEnter: function onMouseEnter() {\n                          return handlePrefetchClient();\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          fontWeight: \"bold\",\n                          children: client.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 102,\n                          columnNumber: 29\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                        fontSize: \"sm\",\n                        color: \"gray.300\",\n                        children: client.number\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 104,\n                        columnNumber: 27\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 23\n                  }, _this), isTelaGrande && /*#__PURE__*/_jsxDEV(Td, {\n                    children: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 40\n                  }, _this), isTelaGrande && /*#__PURE__*/_jsxDEV(Td, {\n                    children: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 40\n                  }, _this), isTelaGrande && /*#__PURE__*/_jsxDEV(Td, {\n                    children: client.created_at\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 40\n                  }, _this), /*#__PURE__*/_jsxDEV(Td, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      as: \"a\",\n                      size: \"sm\",\n                      fontSize: \"sm\",\n                      colorScheme: \"green\",\n                      leftIcon: /*#__PURE__*/_jsxDEV(Icon, {\n                        as: RiPencilLine,\n                        fontSize: \"16\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 118,\n                        columnNumber: 37\n                      }, _this),\n                      children: isTelaGrande ? \"Editar\" : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 23\n                  }, _this)]\n                }, client.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n            totalCountOfRegisters: data.totalCount,\n            currentPage: curPage,\n            onPageChange: setCurPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserList, \"gGa6kH1TFCC0IIYb2EOz6HZ1Ubs=\", false, function () {\n  return [useClients, useBreakpointValue];\n});\n\n_c = UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"sources":["/home/smoke/Área de Trabalho/dashgo/src/pages/users/index.tsx"],"names":["useState","Box","Flex","Button","Heading","Icon","Spinner","Link","Table","Thead","Tbody","Tr","Th","Td","Checkbox","Text","useBreakpointValue","RiAddLine","RiPencilLine","Header","Sidebar","Pagination","useClients","queryClient","api","UserList","curPage","setCurPage","data","isLoading","isFetching","error","isTelaGrande","base","lg","handlePrefetchClient","prefetchQuery","get","response","staleTime","clients","map","client","name","number","created_at","id","totalCount"],"mappings":";;;;;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,IAArC,EAA2CC,OAA3C,QAA0D,kBAA1D;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,KAA7B,EAAoCC,EAApC,EAAwCC,EAAxC,EAA4CC,EAA5C,QAAsD,kBAAtD;AACA,SAASC,QAAT,EAAmBC,IAAnB,EAAyBC,kBAAzB,QAAmD,kBAAnD;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,gBAAxC;AAEA,SAASC,MAAT,QAAuB,yBAAvB;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,UAAT,QAA2B,iCAA3B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,GAAT,QAAoB,oBAApB;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAAA;;AAAA,kBACHzB,QAAQ,CAAC,CAAD,CADL;AAAA,MAC1B0B,OAD0B;AAAA,MACjBC,UADiB,iBAGjC;;;AAHiC,oBAIcL,UAAU,CAACI,OAAD,CAJxB;AAAA,MAIzBE,IAJyB,eAIzBA,IAJyB;AAAA,MAInBC,SAJmB,eAInBA,SAJmB;AAAA,MAIRC,UAJQ,eAIRA,UAJQ;AAAA,MAIIC,KAJJ,eAIIA,KAJJ;;AAMjC,MAAMC,YAAY,GAAGhB,kBAAkB,CAAC;AACtCiB,IAAAA,IAAI,EAAE,KADgC;AAEtCC,IAAAA,EAAE,EAAE;AAFkC,GAAD,CAAvC;;AANiC,WAWlBC,oBAXkB;AAAA;AAAA;;AAAA;AAAA,qFAWjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQZ,WAAW,CAACa,aAAZ,CACJ,CAAC,MAAD,CADI,wEAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACyBZ,GAAG,CAACa,GAAJ,YADzB;;AAAA;AACQC,wBAAAA,QADR;AAAA,yDAGSA,QAAQ,CAACV,IAHlB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFI,IAOJ;AACEW,gBAAAA,SAAS,EAAE,OAAO,EAAP,GAAY,EADzB,CAC6B;;AAD7B,eAPI,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAXiC;AAAA;AAAA;;AAyBjC,sBACE,QAAC,GAAD;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,IAAD;AAAM,MAAA,CAAC,EAAC,MAAR;AAAe,MAAA,EAAE,EAAC,GAAlB;AAAsB,MAAA,QAAQ,EAAE,IAAhC;AAAsC,MAAA,EAAE,EAAC,MAAzC;AAAgD,MAAA,EAAE,EAAC,GAAnD;AAAA,8BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,GAAD;AAAK,QAAA,IAAI,EAAC,GAAV;AAAc,QAAA,YAAY,EAAE,CAA5B;AAA+B,QAAA,EAAE,EAAC,UAAlC;AAA6C,QAAA,CAAC,EAAC,GAA/C;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAa,UAAA,cAAc,EAAC,eAA5B;AAA4C,UAAA,KAAK,EAAC,QAAlD;AAAA,kCACE,QAAC,OAAD;AAAS,YAAA,IAAI,EAAC,IAAd;AAAmB,YAAA,UAAU,EAAC,QAA9B;AAAA,mCAEG,CAACV,SAAD,IAAcC,UAAd,iBAA4B,QAAC,OAAD;AAAS,cAAA,KAAK,EAAC,UAAf;AAA0B,cAAA,EAAE,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,oBAF/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAOE,QAAC,MAAD;AACE,YAAA,EAAE,EAAC,GADL;AAEE,YAAA,IAAI,EAAC,eAFP;AAGE,YAAA,IAAI,EAAC,IAHP;AAIE,YAAA,QAAQ,EAAC,IAJX;AAKE,YAAA,WAAW,EAAC,WALd;AAME,YAAA,QAAQ,eAAE,QAAC,IAAD;AAAM,cAAA,EAAE,EAAEb,SAAV;AAAqB,cAAA,QAAQ,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,oBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAqBGY,SAAS,gBACR,QAAC,IAAD;AAAM,UAAA,OAAO,EAAC,QAAd;AAAA,iCACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADQ,GAINE,KAAK,gBACP,QAAC,IAAD;AAAM,UAAA,OAAO,EAAC,QAAd;AAAA,iCACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADO,gBAKP;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,WAAW,EAAC,YAAnB;AAAA,oCACE,QAAC,KAAD;AAAA,qCACE,QAAC,EAAD;AAAA,wCACE,QAAC,EAAD;AAAI,kBAAA,EAAE,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAR;AAAyB,kBAAA,KAAK,EAAC,UAA/B;AAA0C,kBAAA,KAAK,EAAC,GAAhD;AAAA,yCACE,QAAC,QAAD;AAAU,oBAAA,WAAW,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,EAKGC,YAAY,iBAAI,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALnB,EAMGA,YAAY,iBAAI,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANnB,EAOGA,YAAY,iBAAI,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPnB,eAQE,QAAC,EAAD;AAAI,kBAAA,KAAK,EAAC;AAAV;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAaE,QAAC,KAAD;AAAA,wBACGJ,IAAI,CAACY,OAAL,CAAaC,GAAb,CAAiB,UAACC,MAAD;AAAA,oCAChB,QAAC,EAAD;AAAA,0CACE,QAAC,EAAD;AAAI,oBAAA,EAAE,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAR;AAAA,2CACE,QAAC,QAAD;AAAU,sBAAA,WAAW,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,2BADF,eAIE,QAAC,EAAD;AAAA,2CACE,QAAC,GAAD;AAAA,8CACE,QAAC,IAAD;AACE,wBAAA,KAAK,EAAC,eADR;AAEE,wBAAA,YAAY,EAAE;AAAA,iCAAMP,oBAAoB,EAA1B;AAAA,yBAFhB;AAAA,+CAIE,QAAC,IAAD;AAAM,0BAAA,UAAU,EAAC,MAAjB;AAAA,oCAAyBO,MAAM,CAACC;AAAhC;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,+BADF,eAOE,QAAC,IAAD;AAAM,wBAAA,QAAQ,EAAC,IAAf;AAAoB,wBAAA,KAAK,EAAC,UAA1B;AAAA,kCACGD,MAAM,CAACE;AADV;AAAA;AAAA;AAAA;AAAA,+BAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,2BAJF,EAiBGZ,YAAY,iBAAI,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAjBnB,EAkBGA,YAAY,iBAAI,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAlBnB,EAmBGA,YAAY,iBAAI,QAAC,EAAD;AAAA,8BAAKU,MAAM,CAACG;AAAZ;AAAA;AAAA;AAAA;AAAA,2BAnBnB,eAoBE,QAAC,EAAD;AAAA,2CACE,QAAC,MAAD;AACE,sBAAA,EAAE,EAAC,GADL;AAEE,sBAAA,IAAI,EAAC,IAFP;AAGE,sBAAA,QAAQ,EAAC,IAHX;AAIE,sBAAA,WAAW,EAAC,OAJd;AAKE,sBAAA,QAAQ,eAAE,QAAC,IAAD;AAAM,wBAAA,EAAE,EAAE3B,YAAV;AAAwB,wBAAA,QAAQ,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,+BALZ;AAAA,gCAOGc,YAAY,GAAG,QAAH,GAAc;AAP7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,2BApBF;AAAA,mBAASU,MAAM,CAACI,EAAhB;AAAA;AAAA;AAAA;AAAA,yBADgB;AAAA,eAAjB;AADH;AAAA;AAAA;AAAA;AAAA,oBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAoDE,QAAC,UAAD;AACE,YAAA,qBAAqB,EAAElB,IAAI,CAACmB,UAD9B;AAEE,YAAA,WAAW,EAAErB,OAFf;AAGE,YAAA,YAAY,EAAEC;AAHhB;AAAA;AAAA;AAAA;AAAA,kBApDF;AAAA,wBA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoGD;;GA7HuBF,Q;UAIyBH,U,EAE1BN,kB;;;KANCS,Q","sourcesContent":["import { useState } from \"react\";\nimport { Box, Flex, Button, Heading, Icon, Spinner } from \"@chakra-ui/react\";\nimport { Link, Table, Thead, Tbody, Tr, Th, Td } from \"@chakra-ui/react\";\nimport { Checkbox, Text, useBreakpointValue } from \"@chakra-ui/react\";\nimport { RiAddLine, RiPencilLine } from \"react-icons/ri\";\n\nimport { Header } from \"../../components/Header\";\nimport { Sidebar } from \"../../components/Sidebar\";\nimport { Pagination } from \"../../components/Pagination\";\nimport { useClients } from \"../../services/hooks/useClients\";\nimport { queryClient } from \"../../services/queryClient\";\nimport { api } from \"../../services/api\";\n\nexport default function UserList() {\n  const [curPage, setCurPage] = useState(1);\n\n  // isLoading é o 1.o carregamento dos dados\n  const { data, isLoading, isFetching, error } = useClients(curPage);\n\n  const isTelaGrande = useBreakpointValue({\n    base: false,\n    lg: true,\n  });\n\n  async function handlePrefetchClient() {\n    await queryClient.prefetchQuery(\n      [\"user\"],\n      async () => {\n        const response = await api.get(`/clients`);\n\n        return response.data;\n      },\n      {\n        staleTime: 1000 * 60 * 10, // 10 minutos\n      }\n    );\n  }\n\n  return (\n    <Box>\n      <Header />\n\n      <Flex w=\"100%\" my=\"6\" maxWidth={1480} mx=\"auto\" px=\"6\">\n        <Sidebar />\n\n        <Box flex=\"1\" borderRadius={8} bg=\"gray.800\" p=\"8\">\n          <Flex mb=\"8\" justifyContent=\"space-between\" align=\"center\">\n            <Heading size=\"lg\" fontWeight=\"normal\">\n              Clientes\n              {!isLoading && isFetching && <Spinner color=\"gray.500\" ml=\"4\" />}\n            </Heading>\n\n            {/*<Link href=\"/users/create\" passHref>*/}\n            <Button\n              as=\"a\"\n              href=\"/users/create\"\n              size=\"sm\"\n              fontSize=\"sm\"\n              colorScheme=\"messenger\"\n              leftIcon={<Icon as={RiAddLine} fontSize=\"20\" />}\n            >\n              Criar novo\n            </Button>\n            {/*</Link>*/}\n          </Flex>\n\n          {isLoading ? (\n            <Flex justify=\"center\">\n              <Spinner />\n            </Flex>\n          ) : error ? (\n            <Flex justify=\"center\">\n              <Text>Falha ao obter dados dos usuários</Text>\n            </Flex>\n          ) : (\n            <>\n              <Table colorScheme=\"whiteAlpha\">\n                <Thead>\n                  <Tr>\n                    <Th px={[\"4\", \"4\", \"6\"]} color=\"gray.300\" width=\"8\">\n                      <Checkbox colorScheme=\"messenger\" />\n                    </Th>\n                    <Th>Usuário</Th>\n                    {isTelaGrande && <Th>Compras</Th>}\n                    {isTelaGrande && <Th>Trocas</Th>}\n                    {isTelaGrande && <Th>Data de cadastro</Th>}\n                    <Th width=\"8\"></Th>\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {data.clients.map((client) => (\n                    <Tr key={client.id}>\n                      <Td px={[\"4\", \"4\", \"6\"]}>\n                        <Checkbox colorScheme=\"messenger\" />\n                      </Td>\n                      <Td>\n                        <Box>\n                          <Link\n                            color=\"messenger.100\"\n                            onMouseEnter={() => handlePrefetchClient()}\n                          >\n                            <Text fontWeight=\"bold\">{client.name}</Text>\n                          </Link>\n                          <Text fontSize=\"sm\" color=\"gray.300\">\n                            {client.number}\n                          </Text>\n                        </Box>\n                      </Td>\n                      {isTelaGrande && <Td>0</Td>}\n                      {isTelaGrande && <Td>0</Td>}\n                      {isTelaGrande && <Td>{client.created_at}</Td>}\n                      <Td>\n                        <Button\n                          as=\"a\"\n                          size=\"sm\"\n                          fontSize=\"sm\"\n                          colorScheme=\"green\"\n                          leftIcon={<Icon as={RiPencilLine} fontSize=\"16\" />}\n                        >\n                          {isTelaGrande ? \"Editar\" : \"\"}\n                        </Button>\n                      </Td>\n                    </Tr>\n                  ))}\n                </Tbody>\n              </Table>\n\n              <Pagination\n                totalCountOfRegisters={data.totalCount}\n                currentPage={curPage}\n                onPageChange={setCurPage}\n              />\n            </>\n          )}\n        </Box>\n      </Flex>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}