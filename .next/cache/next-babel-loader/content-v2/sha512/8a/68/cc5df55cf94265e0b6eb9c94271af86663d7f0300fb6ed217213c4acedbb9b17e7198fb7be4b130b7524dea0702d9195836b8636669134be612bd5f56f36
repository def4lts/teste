{"ast":null,"code":"import _regeneratorRuntime from \"/home/smoke/\\xC1rea de Trabalho/dashgo/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _asyncToGenerator from \"/home/smoke/\\xC1rea de Trabalho/dashgo/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/smoke/\\xC1rea de Trabalho/dashgo/src/pages/users/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Box, Flex, Button, Heading, Icon, Spinner } from \"@chakra-ui/react\";\nimport { Table, Thead, Tr, Th } from \"@chakra-ui/react\";\nimport { Checkbox, Text, useBreakpointValue } from \"@chakra-ui/react\";\nimport { RiAddLine } from \"react-icons/ri\";\nimport { Header } from \"../../components/Header\";\nimport { Sidebar } from \"../../components/Sidebar\";\nimport { Pagination } from \"../../components/Pagination\";\nimport { useClients } from \"../../services/hooks/useClients\";\nimport { queryClient } from \"../../services/queryClient\";\nimport { api } from \"../../services/api\";\nexport default function UserList() {\n  _s();\n\n  var _useState = useState(1),\n      curPage = _useState[0],\n      setCurPage = _useState[1]; // isLoading é o 1.o carregamento dos dados\n\n\n  var _useClients = useClients(1),\n      data = _useClients.data,\n      isLoading = _useClients.isLoading,\n      isFetching = _useClients.isFetching,\n      error = _useClients.error;\n\n  console.log(data);\n  var isTelaGrande = useBreakpointValue({\n    base: false,\n    lg: true\n  }); // Ao passar o mouse sobre o nome do usuário, o react-query\n  // pré-carrega os dados do usuário e armazena em cache\n\n  function handlePrefetchClient() {\n    return _handlePrefetchClient.apply(this, arguments);\n  }\n\n  function _handlePrefetchClient() {\n    _handlePrefetchClient = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return queryClient.prefetchQuery([\"clients\"], /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var response;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return api.get(\"/clients\");\n\n                      case 2:\n                        response = _context.sent;\n                        return _context.abrupt(\"return\", response.data);\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })), {\n                staleTime: 1000 * 60 * 10 // 10 minutos\n\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _handlePrefetchClient.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      w: \"100%\",\n      my: \"6\",\n      maxWidth: 1480,\n      mx: \"auto\",\n      px: \"6\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        flex: \"1\",\n        borderRadius: 8,\n        bg: \"gray.800\",\n        p: \"8\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          mb: \"8\",\n          justifyContent: \"space-between\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"lg\",\n            fontWeight: \"normal\",\n            children: [\"Usu\\xE1rios\", !isLoading && isFetching && /*#__PURE__*/_jsxDEV(Spinner, {\n              color: \"gray.500\",\n              ml: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            as: \"a\",\n            href: \"/users/create\",\n            size: \"sm\",\n            fontSize: \"sm\",\n            colorScheme: \"messenger\",\n            leftIcon: /*#__PURE__*/_jsxDEV(Icon, {\n              as: RiAddLine,\n              fontSize: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this),\n            children: \"Criar novo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: \"Falha ao obter dados dos usu\\xE1rios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            colorScheme: \"whiteAlpha\",\n            children: /*#__PURE__*/_jsxDEV(Thead, {\n              children: /*#__PURE__*/_jsxDEV(Tr, {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  px: [\"4\", \"4\", \"6\"],\n                  color: \"gray.300\",\n                  width: \"8\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    colorScheme: \"messenger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Usu\\xE1rio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), isTelaGrande && /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Data de cadastro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 38\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  width: \"8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n            totalCountOfRegisters: data.totalCount,\n            currentPage: curPage,\n            onPageChange: setCurPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserList, \"gGa6kH1TFCC0IIYb2EOz6HZ1Ubs=\", false, function () {\n  return [useClients, useBreakpointValue];\n});\n\n_c = UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"sources":["/home/smoke/Área de Trabalho/dashgo/src/pages/users/index.tsx"],"names":["useState","Box","Flex","Button","Heading","Icon","Spinner","Table","Thead","Tr","Th","Checkbox","Text","useBreakpointValue","RiAddLine","Header","Sidebar","Pagination","useClients","queryClient","api","UserList","curPage","setCurPage","data","isLoading","isFetching","error","console","log","isTelaGrande","base","lg","handlePrefetchClient","prefetchQuery","get","response","staleTime","totalCount"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Box, Flex, Button, Heading, Icon, Spinner } from \"@chakra-ui/react\";\nimport { Link, Table, Thead, Tbody, Tr, Th, Td } from \"@chakra-ui/react\";\nimport { Checkbox, Text, useBreakpointValue } from \"@chakra-ui/react\";\nimport { RiAddLine, RiPencilLine } from \"react-icons/ri\";\n\nimport { Header } from \"../../components/Header\";\nimport { Sidebar } from \"../../components/Sidebar\";\nimport { Pagination } from \"../../components/Pagination\";\nimport { useClients } from \"../../services/hooks/useClients\";\nimport { queryClient } from \"../../services/queryClient\";\nimport { api } from \"../../services/api\";\n\nexport default function UserList() {\n  const [curPage, setCurPage] = useState(1);\n\n  // isLoading é o 1.o carregamento dos dados\n  const { data, isLoading, isFetching, error } = useClients(1);\n  console.log(data);\n\n  const isTelaGrande = useBreakpointValue({\n    base: false,\n    lg: true,\n  });\n\n  // Ao passar o mouse sobre o nome do usuário, o react-query\n  // pré-carrega os dados do usuário e armazena em cache\n  async function handlePrefetchClient() {\n    await queryClient.prefetchQuery(\n      [\"clients\"],\n      async () => {\n        const response = await api.get(`/clients`);\n\n        return response.data;\n      },\n      {\n        staleTime: 1000 * 60 * 10, // 10 minutos\n      }\n    );\n  }\n\n  return (\n    <Box>\n      <Header />\n\n      <Flex w=\"100%\" my=\"6\" maxWidth={1480} mx=\"auto\" px=\"6\">\n        <Sidebar />\n\n        <Box flex=\"1\" borderRadius={8} bg=\"gray.800\" p=\"8\">\n          <Flex mb=\"8\" justifyContent=\"space-between\" align=\"center\">\n            <Heading size=\"lg\" fontWeight=\"normal\">\n              Usuários\n              {!isLoading && isFetching && <Spinner color=\"gray.500\" ml=\"4\" />}\n            </Heading>\n\n            {/*<Link href=\"/users/create\" passHref>*/}\n            <Button\n              as=\"a\"\n              href=\"/users/create\"\n              size=\"sm\"\n              fontSize=\"sm\"\n              colorScheme=\"messenger\"\n              leftIcon={<Icon as={RiAddLine} fontSize=\"20\" />}\n            >\n              Criar novo\n            </Button>\n            {/*</Link>*/}\n          </Flex>\n\n          {isLoading ? (\n            <Flex justify=\"center\">\n              <Spinner />\n            </Flex>\n          ) : error ? (\n            <Flex justify=\"center\">\n              <Text>Falha ao obter dados dos usuários</Text>\n            </Flex>\n          ) : (\n            <>\n              <Table colorScheme=\"whiteAlpha\">\n                <Thead>\n                  <Tr>\n                    <Th px={[\"4\", \"4\", \"6\"]} color=\"gray.300\" width=\"8\">\n                      <Checkbox colorScheme=\"messenger\" />\n                    </Th>\n                    <Th>Usuário</Th>\n                    {isTelaGrande && <Th>Data de cadastro</Th>}\n                    <Th width=\"8\"></Th>\n                  </Tr>\n                </Thead>\n              </Table>\n\n              <Pagination\n                totalCountOfRegisters={data.totalCount}\n                currentPage={curPage}\n                onPageChange={setCurPage}\n              />\n            </>\n          )}\n        </Box>\n      </Flex>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}