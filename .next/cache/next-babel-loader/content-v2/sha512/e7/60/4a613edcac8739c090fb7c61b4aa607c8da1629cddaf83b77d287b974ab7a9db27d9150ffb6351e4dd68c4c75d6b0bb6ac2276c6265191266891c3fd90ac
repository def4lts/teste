{"ast":null,"code":"import { useQuery } from \"react-query\";\nimport { api } from \"../api\";\n\nasync function getAll() {\n  let responseProducts = await api.get(`/products/1`);\n  let totalProducts = Number(responseProducts.data.total);\n  let responseClients = await api.get(`/clients/1`);\n  let totalClients = Number(responseClients.data.total);\n  let responsePurchases = await api.get(`/purchases/1`);\n  let totalPurchases = Number(responsePurchases.data.total);\n  let clients = responseClients.data.clients.map(client => {\n    return {\n      id: client.id,\n      name: client.name,\n      number: client.number,\n      created_at: new Date(client.created_at).toLocaleDateString(\"pt-BR\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\"\n      })\n    };\n  });\n  let purchases = responsePurchases.data.purchases.map(purchase => {\n    return {\n      id: purchase.id,\n      product_id: purchase.product_id,\n      price: purchase.price,\n      created_at: new Date(purchase.created_at).toLocaleDateString(\"pt-BR\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\"\n      })\n    };\n  });\n  const clientsSlice = clients.slice(0, 5);\n  const purchasesSlice = purchases.slice(0, 5);\n  return {\n    totalProducts,\n    totalClients,\n    totalPurchases,\n    clientsSlice,\n    purchasesSlice\n  };\n}\n\nexport function useAll() {\n  return useQuery(\"all\", () => getAll(), {\n    staleTime: 1000\n  });\n}","map":null,"metadata":{},"sourceType":"module"}