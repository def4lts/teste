{"ast":null,"code":"import { useQuery } from \"react-query\";\nimport { api } from \"../api\";\n\nasync function getProducts(page) {\n  //const response = await fetch('http://localhost:3000/api/users')\n  //const data = await response.json()\n  const {\n    data\n  } = await api.get(`/products/${page}`);\n  const totalCount = Number(data.total);\n  const products = data.products.map(product => {\n    return {\n      id: product.id,\n      sold: product.sold,\n      number: product.number,\n      month: product.month,\n      year: product.year,\n      cvv: product.cvv,\n      category_id: product.category_id,\n      created_at: new Date(product.created_at).toLocaleDateString(\"pt-BR\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\"\n      })\n    };\n  });\n  return {\n    products,\n    totalCount\n  };\n}\n\nexport function useProducts(page) {\n  return useQuery([\"product\", page], () => getProducts(page), {\n    staleTime: 1000\n  });\n}","map":null,"metadata":{},"sourceType":"module"}